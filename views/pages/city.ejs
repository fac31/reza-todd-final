<!doctype html>
<html lang="en">
<%- include('../partials/head') %>
<script type="module" src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.15.1/cdn/shoelace.js"></script>

<body>
  <header>
    <div class="cityCircleReturn">
      <a id="cityReturn" class="cityReturn" href="index.html"><sl-icon name="arrow-left-short"></sl-icon></a>
    </div>
  </header>
  <div class="cityRectWide">
    <h1><%= locationData.formatted %></h1>
    <p><%= locationData.city %>, <%= locationData.country %></p>
  </div>


  <div class="cityCircle">

    <h2>Current Weather:</h2>
    <p>Temperature: <%= (formattedWeatherData.currentWeatherData.temp - 273.15).toFixed(2) %>°C</p>
    <p>Feels Like: <%= (formattedWeatherData.currentWeatherData.feelsLike - 273.15).toFixed(2) %></p>
    <p>Min Temperature: <%= formattedWeatherData.currentWeatherData.tempMin %></p>
    <p>Max Temperature: <%= formattedWeatherData.currentWeatherData.tempMax %></p>
    <p>Pressure: <%= formattedWeatherData.currentWeatherData.pressure %></p>
    <p>Humidity: <%= formattedWeatherData.currentWeatherData.humidity %></p>
    <p>Wind Speed: <%= formattedWeatherData.currentWeatherData.windSpeed %></p>
    <p>Wind Degree: <%= formattedWeatherData.currentWeatherData.windDeg %></p>
    <p>Rain: <%= formattedWeatherData.currentWeatherData.rain %></p>
    <p>Clouds: <%= formattedWeatherData.currentWeatherData.clouds %></p>
    <p>Description: <%= formattedWeatherData.currentWeatherData.description %></p>
    <img src="http://openweathermap.org/img/w/<%= formattedWeatherData.currentWeatherData.icon %>.png" alt="<%= formattedWeatherData.currentWeatherData.description %>">

    next 5 days:
    <sl-carousel class="vertical" pagination orientation="vertical">
      <% formattedWeatherData.forecasts.forEach(forecast => { %>
        <sl-carousel-item>
          <sl-card class="card-image">
            <img slot="image" src="http://openweathermap.org/img/w/<%= forecast.icon %>.png" alt="<%= forecast.description %>">
            <span><sl-format-date weekday="short" hour="numeric" minute="numeric" hour-format="24" ><%= forecast.date %></sl-format-date></span>
            <span><%= (forecast.temp - 273.15).toFixed(2) %>°C</span>
          </sl-card>
        </sl-carousel-item>
      <% }) %>
    </sl-carousel>

  </div>

  <div class="cityTimeCircle">
    <sl-card class="card-image">
      <img slot="image" src="https://bmcdn.nl/assets/weather-icons/v3.0/fill/svg/sunrise.svg" alt="sunrise." />
      <p>Sunrise: <%= new Date((formattedWeatherData.sunrise + formattedWeatherData.timezone) * 1000).toLocaleTimeString() %></p>
    </sl-card>
    <sl-card class="card-image">
      <img slot="image" src="https://bmcdn.nl/assets/weather-icons/v3.0/fill/svg/sunset.svg" alt="sunrise." />
      <p>Sunset: <%= new Date((formattedWeatherData.sunset + formattedWeatherData.timezone) * 1000).toLocaleTimeString() %></p>
    </sl-card>
  </div>

  <section class="cityRectTall">
    <h2>Currency:</h2>
  </section>
  <section class="cityRectCarousel">
    <sl-carousel loop navigation pagination>
      <% imageData.forEach(image => { %>
        <sl-carousel-item>
          <img src="<%= image.url %>" alt="<%= image.alt %>">
        </sl-carousel-item>
      <% }) %>
    </sl-carousel>
  </section>


  <script src="../JS/city.js"></script>
</body>

</html>